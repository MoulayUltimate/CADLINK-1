{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/app/actions/settings.ts"],"sourcesContent":["\"use server\"\n\nimport fs from \"fs/promises\"\nimport path from \"path\"\n\nconst SETTINGS_PATH = path.join(process.cwd(), \"data\", \"settings.json\")\n\nexport type Settings = {\n    payment: {\n        stripeLink: string\n        dodoApiKey: string\n        returnUrl: string\n    }\n    analytics: {\n        googleAnalyticsId: string\n        googleAdsTag: string\n    }\n    general: {\n        enableCountryDetection: boolean\n        supportEmail: string\n    }\n}\n\nexport async function getSettings(): Promise<Settings> {\n    try {\n        const data = await fs.readFile(SETTINGS_PATH, \"utf-8\")\n        return JSON.parse(data)\n    } catch (error) {\n        // Return default settings if file doesn't exist\n        return {\n            payment: {\n                stripeLink: \"\",\n                dodoApiKey: \"\",\n                returnUrl: \"\",\n            },\n            analytics: {\n                googleAnalyticsId: \"\",\n                googleAdsTag: \"\",\n            },\n            general: {\n                enableCountryDetection: true,\n                supportEmail: \"\",\n            },\n        }\n    }\n}\n\nexport async function updateSettings(newSettings: Settings) {\n    try {\n        await fs.writeFile(SETTINGS_PATH, JSON.stringify(newSettings, null, 2))\n        return { success: true }\n    } catch (error) {\n        console.error(\"Failed to save settings:\", error)\n        return { success: false, error: \"Failed to save settings\" }\n    }\n}\n"],"names":[],"mappings":";;;;;;;IAuBsB,cAAA,WAAA,GAAA,IAAA,8WAAA,EAAA,8CAAA,mWAAA,EAAA,KAAA,GAAA,yWAAA,EAAA"}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/app/actions/settings.ts"],"sourcesContent":["\"use server\"\n\nimport fs from \"fs/promises\"\nimport path from \"path\"\n\nconst SETTINGS_PATH = path.join(process.cwd(), \"data\", \"settings.json\")\n\nexport type Settings = {\n    payment: {\n        stripeLink: string\n        dodoApiKey: string\n        returnUrl: string\n    }\n    analytics: {\n        googleAnalyticsId: string\n        googleAdsTag: string\n    }\n    general: {\n        enableCountryDetection: boolean\n        supportEmail: string\n    }\n}\n\nexport async function getSettings(): Promise<Settings> {\n    try {\n        const data = await fs.readFile(SETTINGS_PATH, \"utf-8\")\n        return JSON.parse(data)\n    } catch (error) {\n        // Return default settings if file doesn't exist\n        return {\n            payment: {\n                stripeLink: \"\",\n                dodoApiKey: \"\",\n                returnUrl: \"\",\n            },\n            analytics: {\n                googleAnalyticsId: \"\",\n                googleAdsTag: \"\",\n            },\n            general: {\n                enableCountryDetection: true,\n                supportEmail: \"\",\n            },\n        }\n    }\n}\n\nexport async function updateSettings(newSettings: Settings) {\n    try {\n        await fs.writeFile(SETTINGS_PATH, JSON.stringify(newSettings, null, 2))\n        return { success: true }\n    } catch (error) {\n        console.error(\"Failed to save settings:\", error)\n        return { success: false, error: \"Failed to save settings\" }\n    }\n}\n"],"names":[],"mappings":";;;;;;;IA+CsB,iBAAA,WAAA,GAAA,IAAA,8WAAA,EAAA,8CAAA,mWAAA,EAAA,KAAA,GAAA,yWAAA,EAAA"}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/components/admin/settings-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Save, Loader2, Globe, CreditCard, BarChart, Lock, Mail, Shield } from \"lucide-react\"\nimport { getSettings, updateSettings, type Settings } from \"@/app/actions/settings\"\nimport { toast } from \"sonner\"\n\nexport function SettingsView() {\n    const [isLoading, setIsLoading] = useState(true)\n    const [isSaving, setIsSaving] = useState(false)\n    const [settings, setSettings] = useState<Settings | null>(null)\n    const [activeTab, setActiveTab] = useState(\"payment\")\n\n    useEffect(() => {\n        const loadSettings = async () => {\n            const data = await getSettings()\n            setSettings(data)\n            setIsLoading(false)\n        }\n        loadSettings()\n    }, [])\n\n    const handleSave = async () => {\n        if (!settings) return\n        setIsSaving(true)\n        const result = await updateSettings(settings)\n        setIsSaving(false)\n        if (result.success) {\n            toast.success(\"Settings saved successfully\")\n        } else {\n            toast.error(\"Failed to save settings\")\n        }\n    }\n\n    if (isLoading || !settings) {\n        return (\n            <div className=\"flex items-center justify-center h-64\">\n                <Loader2 className=\"w-8 h-8 animate-spin text-[#0168A0]\" />\n            </div>\n        )\n    }\n\n    const tabs = [\n        { id: \"payment\", label: \"Payment\", icon: CreditCard },\n        { id: \"analytics\", label: \"Analytics\", icon: BarChart },\n        { id: \"general\", label: \"General\", icon: Globe },\n    ]\n\n    return (\n        <div className=\"space-y-8 animate-in fade-in duration-500\">\n            <div>\n                <h2 className=\"text-3xl font-black text-white\">Store Settings</h2>\n                <p className=\"text-gray-400\">Manage your store configuration.</p>\n            </div>\n\n            <div className=\"flex flex-col lg:flex-row gap-8\">\n                {/* Settings Navigation */}\n                <div className=\"w-full lg:w-64 flex-shrink-0 space-y-2\">\n                    {tabs.map((tab) => (\n                        <button\n                            key={tab.id}\n                            onClick={() => setActiveTab(tab.id)}\n                            className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all ${activeTab === tab.id\n                                    ? \"bg-[#0168A0] text-white shadow-lg shadow-[#0168A0]/20\"\n                                    : \"text-gray-400 hover:bg-white/5 hover:text-white\"\n                                }`}\n                        >\n                            <tab.icon className=\"w-4 h-4\" />\n                            {tab.label}\n                        </button>\n                    ))}\n                </div>\n\n                {/* Settings Content */}\n                <div className=\"flex-1 bg-[#1e293b] rounded-2xl border border-white/5 p-6 md:p-8\">\n                    {activeTab === \"payment\" && (\n                        <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n                            <div className=\"flex items-center gap-3 mb-6 pb-6 border-b border-white/5\">\n                                <div className=\"p-2 bg-blue-500/10 rounded-lg\">\n                                    <CreditCard className=\"w-5 h-5 text-blue-400\" />\n                                </div>\n                                <div>\n                                    <h3 className=\"text-lg font-bold text-white\">Payment Configuration</h3>\n                                    <p className=\"text-sm text-gray-400\">Manage payment gateways and links</p>\n                                </div>\n                            </div>\n\n                            <div className=\"space-y-4\">\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-300 mb-2\">Stripe Payment Link</label>\n                                    <input\n                                        type=\"text\"\n                                        value={settings.payment.stripeLink}\n                                        onChange={(e) => setSettings({ ...settings, payment: { ...settings.payment, stripeLink: e.target.value } })}\n                                        className=\"w-full px-4 py-3 rounded-xl bg-[#0f172a] border border-white/10 text-white focus:border-[#0168A0] focus:ring-1 focus:ring-[#0168A0] outline-none transition-all\"\n                                    />\n                                </div>\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-300 mb-2\">Dodo Payments API Key</label>\n                                    <div className=\"relative\">\n                                        <input\n                                            type=\"password\"\n                                            value={settings.payment.dodoApiKey}\n                                            onChange={(e) => setSettings({ ...settings, payment: { ...settings.payment, dodoApiKey: e.target.value } })}\n                                            className=\"w-full px-4 py-3 rounded-xl bg-[#0f172a] border border-white/10 text-white focus:border-[#0168A0] focus:ring-1 focus:ring-[#0168A0] outline-none transition-all font-mono\"\n                                        />\n                                        <Lock className=\"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500\" />\n                                    </div>\n                                </div>\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-300 mb-2\">Return URL</label>\n                                    <input\n                                        type=\"text\"\n                                        value={settings.payment.returnUrl}\n                                        onChange={(e) => setSettings({ ...settings, payment: { ...settings.payment, returnUrl: e.target.value } })}\n                                        className=\"w-full px-4 py-3 rounded-xl bg-[#0f172a] border border-white/10 text-white focus:border-[#0168A0] focus:ring-1 focus:ring-[#0168A0] outline-none transition-all\"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                    {activeTab === \"analytics\" && (\n                        <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n                            <div className=\"flex items-center gap-3 mb-6 pb-6 border-b border-white/5\">\n                                <div className=\"p-2 bg-purple-500/10 rounded-lg\">\n                                    <BarChart className=\"w-5 h-5 text-purple-400\" />\n                                </div>\n                                <div>\n                                    <h3 className=\"text-lg font-bold text-white\">Analytics & Tracking</h3>\n                                    <p className=\"text-sm text-gray-400\">Configure tracking IDs and pixels</p>\n                                </div>\n                            </div>\n\n                            <div className=\"space-y-4\">\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-300 mb-2\">Google Analytics ID</label>\n                                    <input\n                                        type=\"text\"\n                                        value={settings.analytics.googleAnalyticsId}\n                                        onChange={(e) => setSettings({ ...settings, analytics: { ...settings.analytics, googleAnalyticsId: e.target.value } })}\n                                        placeholder=\"G-XXXXXXXXXX\"\n                                        className=\"w-full px-4 py-3 rounded-xl bg-[#0f172a] border border-white/10 text-white focus:border-[#0168A0] focus:ring-1 focus:ring-[#0168A0] outline-none transition-all\"\n                                    />\n                                </div>\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-300 mb-2\">Google Ads Tag</label>\n                                    <input\n                                        type=\"text\"\n                                        value={settings.analytics.googleAdsTag}\n                                        onChange={(e) => setSettings({ ...settings, analytics: { ...settings.analytics, googleAdsTag: e.target.value } })}\n                                        placeholder=\"AW-XXXXXXXXXX\"\n                                        className=\"w-full px-4 py-3 rounded-xl bg-[#0f172a] border border-white/10 text-white focus:border-[#0168A0] focus:ring-1 focus:ring-[#0168A0] outline-none transition-all\"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                    {activeTab === \"general\" && (\n                        <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n                            <div className=\"flex items-center gap-3 mb-6 pb-6 border-b border-white/5\">\n                                <div className=\"p-2 bg-green-500/10 rounded-lg\">\n                                    <Globe className=\"w-5 h-5 text-green-400\" />\n                                </div>\n                                <div>\n                                    <h3 className=\"text-lg font-bold text-white\">General Configuration</h3>\n                                    <p className=\"text-sm text-gray-400\">Global store settings</p>\n                                </div>\n                            </div>\n\n                            <div className=\"space-y-4\">\n                                <div className=\"flex items-center justify-between p-4 bg-[#0f172a] rounded-xl border border-white/10\">\n                                    <div>\n                                        <h3 className=\"font-bold text-white\">Country Detection</h3>\n                                        <p className=\"text-sm text-gray-400\">Auto-detect user location</p>\n                                    </div>\n                                    <label className=\"relative inline-flex items-center cursor-pointer\">\n                                        <input\n                                            type=\"checkbox\"\n                                            checked={settings.general.enableCountryDetection}\n                                            onChange={(e) => setSettings({ ...settings, general: { ...settings.general, enableCountryDetection: e.target.checked } })}\n                                            className=\"sr-only peer\"\n                                        />\n                                        <div className=\"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#0168A0]\"></div>\n                                    </label>\n                                </div>\n\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-300 mb-2\">Support Email</label>\n                                    <div className=\"relative\">\n                                        <input\n                                            type=\"email\"\n                                            value={settings.general.supportEmail}\n                                            onChange={(e) => setSettings({ ...settings, general: { ...settings.general, supportEmail: e.target.value } })}\n                                            className=\"w-full px-4 py-3 rounded-xl bg-[#0f172a] border border-white/10 text-white focus:border-[#0168A0] focus:ring-1 focus:ring-[#0168A0] outline-none transition-all pl-10\"\n                                        />\n                                        <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500\" />\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                    <div className=\"mt-8 pt-6 border-t border-white/5 flex justify-end\">\n                        <button\n                            onClick={handleSave}\n                            disabled={isSaving}\n                            className=\"flex items-center gap-2 bg-[#0168A0] hover:bg-[#015580] text-white font-bold px-8 py-3 rounded-xl shadow-lg shadow-[#0168A0]/20 transition-all hover:-translate-y-1 active:scale-95 disabled:opacity-70\"\n                        >\n                            {isSaving ? (\n                                <Loader2 className=\"w-5 h-5 animate-spin\" />\n                            ) : (\n                                <Save className=\"w-5 h-5\" />\n                            )}\n                            {isSaving ? \"Saving...\" : \"Save Changes\"}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 706, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/components/admin/analytics-view.tsx"],"sourcesContent":["\"use client\"\n\nimport {\n    BarChart,\n    Bar,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n    ResponsiveContainer,\n    LineChart,\n    Line,\n    AreaChart,\n    Area,\n    PieChart,\n    Pie,\n    Cell\n} from 'recharts'\nimport {\n    TrendingUp,\n    Users,\n    ShoppingCart,\n    DollarSign,\n    ArrowUpRight,\n    ArrowDownRight,\n    Filter\n} from 'lucide-react'\n\nconst revenueData = [\n    { name: 'Mon', revenue: 4500, orders: 12 },\n    { name: 'Tue', revenue: 5200, orders: 15 },\n    { name: 'Wed', revenue: 3800, orders: 9 },\n    { name: 'Thu', revenue: 6100, orders: 18 },\n    { name: 'Fri', revenue: 5900, orders: 17 },\n    { name: 'Sat', revenue: 8400, orders: 24 },\n    { name: 'Sun', revenue: 7200, orders: 21 },\n]\n\nconst funnelData = [\n    { name: 'Visitors', value: 1000, fill: '#64748b' },\n    { name: 'Product Views', value: 650, fill: '#3b82f6' },\n    { name: 'Add to Cart', value: 280, fill: '#a855f7' },\n    { name: 'Checkout', value: 120, fill: '#f59e0b' },\n    { name: 'Purchase', value: 45, fill: '#10b981' },\n]\n\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884d8']\n\nexport function AnalyticsView() {\n    return (\n        <div className=\"space-y-8 animate-in fade-in duration-500\">\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                <div>\n                    <h2 className=\"text-3xl font-black text-white\">Analytics Command</h2>\n                    <p className=\"text-gray-400\">Deep dive into your store's performance metrics.</p>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                    <button className=\"px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-sm font-bold text-white hover:bg-white/10 transition-all flex items-center gap-2\">\n                        <Filter className=\"w-4 h-4\" />\n                        Last 7 Days\n                    </button>\n                    <button className=\"px-4 py-2 bg-[#0168A0] text-white rounded-xl text-sm font-bold hover:bg-[#015580] transition-all shadow-lg shadow-[#0168A0]/20\">\n                        Export Report\n                    </button>\n                </div>\n            </div>\n\n            {/* Stats Overview */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                <StatCard\n                    label=\"Total Revenue\"\n                    value=\"$42,500.00\"\n                    trend=\"+12.5%\"\n                    trendUp={true}\n                    icon={DollarSign}\n                    color=\"green\"\n                />\n                <StatCard\n                    label=\"Conversion Rate\"\n                    value=\"4.5%\"\n                    trend=\"+0.8%\"\n                    trendUp={true}\n                    icon={TrendingUp}\n                    color=\"blue\"\n                />\n                <StatCard\n                    label=\"Avg. Order Value\"\n                    value=\"$944.44\"\n                    trend=\"-2.4%\"\n                    trendUp={false}\n                    icon={ShoppingCart}\n                    color=\"purple\"\n                />\n                <StatCard\n                    label=\"Total Visitors\"\n                    value=\"12,450\"\n                    trend=\"+18.2%\"\n                    trendUp={true}\n                    icon={Users}\n                    color=\"orange\"\n                />\n            </div>\n\n            <div className=\"grid lg:grid-cols-2 gap-8\">\n                {/* Revenue Chart */}\n                <div className=\"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-2xl\">\n                    <div className=\"flex items-center justify-between mb-8\">\n                        <h3 className=\"text-lg font-bold text-white\">Revenue Velocity</h3>\n                        <div className=\"flex gap-2\">\n                            <span className=\"flex items-center gap-1 text-xs font-bold text-green-400 bg-green-400/10 px-2 py-1 rounded-full\">\n                                <ArrowUpRight className=\"w-3 h-3\" />\n                                $8,400 Peak\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"h-[300px] w-full\">\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <AreaChart data={revenueData}>\n                                <defs>\n                                    <linearGradient id=\"colorRev\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                                        <stop offset=\"5%\" stopColor=\"#10b981\" stopOpacity={0.3} />\n                                        <stop offset=\"95%\" stopColor=\"#10b981\" stopOpacity={0} />\n                                    </linearGradient>\n                                </defs>\n                                <XAxis dataKey=\"name\" stroke=\"#64748b\" fontSize={12} tickLine={false} axisLine={false} />\n                                <YAxis stroke=\"#64748b\" fontSize={12} tickLine={false} axisLine={false} tickFormatter={(value) => `$${value}`} />\n                                <Tooltip\n                                    contentStyle={{ backgroundColor: '#1e293b', border: '1px solid rgba(255,255,255,0.1)', borderRadius: '12px' }}\n                                    itemStyle={{ color: '#fff' }}\n                                />\n                                <Area type=\"monotone\" dataKey=\"revenue\" stroke=\"#10b981\" strokeWidth={3} fillOpacity={1} fill=\"url(#colorRev)\" />\n                            </AreaChart>\n                        </ResponsiveContainer>\n                    </div>\n                </div>\n\n                {/* Funnel Chart */}\n                <div className=\"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-2xl\">\n                    <h3 className=\"text-lg font-bold text-white mb-8\">Conversion Funnel</h3>\n                    <div className=\"h-[300px] w-full\">\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <BarChart data={funnelData} layout=\"vertical\" margin={{ left: 40 }}>\n                                <XAxis type=\"number\" hide />\n                                <YAxis dataKey=\"name\" type=\"category\" stroke=\"#94a3b8\" fontSize={12} tickLine={false} axisLine={false} width={100} />\n                                <Tooltip\n                                    cursor={{ fill: 'rgba(255,255,255,0.05)' }}\n                                    contentStyle={{ backgroundColor: '#1e293b', border: '1px solid rgba(255,255,255,0.1)', borderRadius: '12px' }}\n                                />\n                                <Bar dataKey=\"value\" radius={[0, 4, 4, 0]} barSize={32}>\n                                    {funnelData.map((entry, index) => (\n                                        <Cell key={`cell-${index}`} fill={entry.fill} />\n                                    ))}\n                                </Bar>\n                            </BarChart>\n                        </ResponsiveContainer>\n                    </div>\n                    <div className=\"mt-4 grid grid-cols-4 gap-2 text-center\">\n                        <div className=\"space-y-1\">\n                            <p className=\"text-[10px] font-bold text-gray-500 uppercase\">Dropoff</p>\n                            <p className=\"text-sm font-bold text-red-400\">35%</p>\n                        </div>\n                        <div className=\"space-y-1\">\n                            <p className=\"text-[10px] font-bold text-gray-500 uppercase\">Dropoff</p>\n                            <p className=\"text-sm font-bold text-red-400\">57%</p>\n                        </div>\n                        <div className=\"space-y-1\">\n                            <p className=\"text-[10px] font-bold text-gray-500 uppercase\">Dropoff</p>\n                            <p className=\"text-sm font-bold text-red-400\">57%</p>\n                        </div>\n                        <div className=\"space-y-1\">\n                            <p className=\"text-[10px] font-bold text-gray-500 uppercase\">Success</p>\n                            <p className=\"text-sm font-bold text-green-400\">37%</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nfunction StatCard({ label, value, trend, trendUp, icon: Icon, color }: any) {\n    const colors: any = {\n        green: 'bg-green-500/10 text-green-400',\n        blue: 'bg-blue-500/10 text-blue-400',\n        purple: 'bg-purple-500/10 text-purple-400',\n        orange: 'bg-orange-500/10 text-orange-400',\n    }\n\n    return (\n        <div className=\"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-2xl group hover:border-white/20 transition-all\">\n            <div className=\"flex justify-between items-start mb-4\">\n                <div className={`p-3 rounded-xl ${colors[color]}`}>\n                    <Icon className=\"w-5 h-5\" />\n                </div>\n                <div className={`flex items-center gap-1 text-xs font-bold ${trendUp ? 'text-green-400' : 'text-red-400'}`}>\n                    {trendUp ? <ArrowUpRight className=\"w-3 h-3\" /> : <ArrowDownRight className=\"w-3 h-3\" />}\n                    {trend}\n                </div>\n            </div>\n            <h3 className=\"text-2xl font-black text-white\">{value}</h3>\n            <p className=\"text-sm font-bold text-gray-500 mt-1\">{label}</p>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1398, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/app/admin/hooks/use-analytics.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react'\nimport type { LiveVisitorData } from '@/types/analytics'\n\n// Simulated WebSocket connection (replace with real Socket.io in production)\nexport function useRealTimeAnalytics() {\n    const [liveData, setLiveData] = useState<LiveVisitorData>({\n        totalActive: 0,\n        visitors: [],\n        recentEvents: [],\n        topPages: [],\n        countriesMap: {},\n    })\n    const [isConnected, setIsConnected] = useState(false)\n\n    useEffect(() => {\n        // Simulate WebSocket connection\n        setIsConnected(true)\n\n        // Simulate live data updates\n        const interval = setInterval(() => {\n            setLiveData((prev) => {\n                const change = Math.floor(Math.random() * 10) - 5\n                const newTotal = Math.max(20, Math.min(500, prev.totalActive + change))\n\n                // Generate realistic visitor data\n                const visitors = Array.from({ length: Math.min(10, newTotal) }, (_, i) => ({\n                    id: `visitor-${i}`,\n                    sessionId: `session-${i}`,\n                    ip: `${Math.floor(Math.random() * 255)}.***.***.***`,\n                    country: ['US', 'UK', 'DE', 'FR', 'CA', 'AU', 'JP'][Math.floor(Math.random() * 7)],\n                    city: ['New York', 'London', 'Berlin', 'Paris', 'Toronto', 'Sydney', 'Tokyo'][Math.floor(Math.random() * 7)],\n                    device: ['Desktop', 'Mobile', 'Tablet'][Math.floor(Math.random() * 3)],\n                    browser: ['Chrome', 'Safari', 'Firefox', 'Edge'][Math.floor(Math.random() * 4)],\n                    os: ['Windows', 'macOS', 'iOS', 'Android', 'Linux'][Math.floor(Math.random() * 5)],\n                    firstVisit: new Date(Date.now() - Math.random() * 3600000),\n                    lastSeen: new Date(),\n                    pageViews: Math.floor(Math.random() * 10) + 1,\n                    status: ['active', 'idle', 'offline'][Math.floor(Math.random() * 3)] as 'active' | 'idle' | 'offline',\n                }))\n\n                // Generate top pages\n                const topPages = [\n                    { url: '/', count: Math.floor(Math.random() * 50) + 20 },\n                    { url: '/products', count: Math.floor(Math.random() * 30) + 10 },\n                    { url: '/checkout', count: Math.floor(Math.random() * 15) + 5 },\n                    { url: '/about', count: Math.floor(Math.random() * 10) + 3 },\n                ]\n\n                // Generate countries map\n                const countriesMap: Record<string, number> = {}\n                visitors.forEach((v) => {\n                    countriesMap[v.country] = (countriesMap[v.country] || 0) + 1\n                })\n\n                return {\n                    totalActive: newTotal,\n                    visitors,\n                    recentEvents: prev.recentEvents.slice(0, 20),\n                    topPages,\n                    countriesMap,\n                }\n            })\n        }, 3000) // Update every 3 seconds\n\n        return () => {\n            clearInterval(interval)\n            setIsConnected(false)\n        }\n    }, [])\n\n    const trackEvent = useCallback((eventType: string, metadata?: Record<string, any>) => {\n        // In production, send to backend API\n        console.log('Track event:', eventType, metadata)\n    }, [])\n\n    return { liveData, isConnected, trackEvent }\n}\n\n// Hook for historical analytics data\nexport function useAnalyticsDashboard(dateRange: { start: Date; end: Date }) {\n    const [data, setData] = useState<any>(null)\n    const [loading, setLoading] = useState(true)\n\n    useEffect(() => {\n        setLoading(true)\n\n        // Simulate API call\n        setTimeout(() => {\n            // Generate realistic time series data\n            const days = Math.ceil((dateRange.end.getTime() - dateRange.start.getTime()) / (1000 * 60 * 60 * 24))\n            const timeSeriesData = Array.from({ length: days }, (_, i) => {\n                const date = new Date(dateRange.start.getTime() + i * 24 * 60 * 60 * 1000)\n                return {\n                    timestamp: date,\n                    visitors: Math.floor(Math.random() * 500) + 200,\n                    pageViews: Math.floor(Math.random() * 2000) + 800,\n                    conversions: Math.floor(Math.random() * 50) + 10,\n                }\n            })\n\n            setData({\n                visitors: {\n                    total: timeSeriesData.reduce((sum, d) => sum + d.visitors, 0),\n                    new: Math.floor(Math.random() * 1000) + 500,\n                    returning: Math.floor(Math.random() * 2000) + 1000,\n                    trend: (Math.random() - 0.5) * 0.4, // -20% to +20%\n                },\n                sessions: {\n                    total: timeSeriesData.reduce((sum, d) => sum + d.visitors, 0),\n                    avgDuration: Math.floor(Math.random() * 300) + 120, // seconds\n                    bounceRate: Math.random() * 0.4 + 0.3, // 30-70%\n                },\n                conversions: {\n                    rate: Math.random() * 0.1 + 0.02, // 2-12%\n                    total: timeSeriesData.reduce((sum, d) => sum + d.conversions, 0),\n                    revenue: Math.floor(Math.random() * 50000) + 20000,\n                },\n                timeSeriesData,\n            })\n            setLoading(false)\n        }, 500)\n    }, [dateRange])\n\n    return { data, loading }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1577, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/components/admin/live-monitoring.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect } from 'react'\nimport { useRealTimeAnalytics } from '@/app/admin/hooks/use-analytics'\nimport { Users, Globe, Activity, MousePointerClick, ShoppingCart, Eye, TrendingUp, TrendingDown } from 'lucide-react'\nimport { formatDistanceToNow } from 'date-fns'\n\ninterface LiveMonitoringProps {\n    onInspectUser?: (userId: string) => void\n}\n\nexport function LiveMonitoring({ onInspectUser }: LiveMonitoringProps) {\n    const { liveData, isConnected } = useRealTimeAnalytics()\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Connection Status */}\n            <div className=\"flex items-center justify-between\">\n                <div>\n                    <h2 className=\"text-2xl font-black text-white\">Live Monitoring</h2>\n                    <p className=\"text-gray-400 text-sm\">Real-time visitor activity</p>\n                </div>\n                <div className=\"flex items-center gap-2 px-4 py-2 bg-white/5 backdrop-blur-md border border-white/10 rounded-xl\">\n                    <span className=\"relative flex h-3 w-3\">\n                        <span className={`animate-ping absolute inline-flex h-full w-full rounded-full ${isConnected ? 'bg-green-400' : 'bg-red-400'} opacity-75`}></span>\n                        <span className={`relative inline-flex rounded-full h-3 w-3 ${isConnected ? 'bg-green-500' : 'bg-red-500'}`}></span>\n                    </span>\n                    <span className=\"text-sm font-bold text-white\">{isConnected ? 'Live' : 'Disconnected'}</span>\n                </div>\n            </div>\n\n            {/* Live Metrics Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <MetricCard\n                    icon={Users}\n                    label=\"Active Visitors\"\n                    value={liveData.totalActive}\n                    trend={Math.random() > 0.5 ? 'up' : 'down'}\n                    color=\"blue\"\n                    pulse\n                />\n                <MetricCard\n                    icon={Eye}\n                    label=\"Page Views/min\"\n                    value={Math.floor(liveData.totalActive * 1.5)}\n                    trend=\"up\"\n                    color=\"purple\"\n                />\n                <MetricCard\n                    icon={ShoppingCart}\n                    label=\"Cart Events\"\n                    value={liveData.recentEvents.filter(e => e.type === 'cart_add').length}\n                    trend=\"up\"\n                    color=\"green\"\n                />\n                <MetricCard\n                    icon={Activity}\n                    label=\"Active Pages\"\n                    value={liveData.topPages.length}\n                    color=\"orange\"\n                />\n            </div>\n\n            {/* Main Content Grid */}\n            <div className=\"grid lg:grid-cols-3 gap-6\">\n                {/* Live Visitor Table */}\n                <div className=\"lg:col-span-2 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6\">\n                    <div className=\"flex items-center justify-between mb-6\">\n                        <h3 className=\"text-lg font-bold text-white flex items-center gap-2\">\n                            <Globe className=\"w-5 h-5 text-blue-400\" />\n                            Active Visitors ({liveData.totalActive})\n                        </h3>\n                    </div>\n\n                    <div className=\"overflow-x-auto\">\n                        <table className=\"w-full\">\n                            <thead>\n                                <tr className=\"text-left text-xs text-gray-400 uppercase tracking-wider border-b border-white/5\">\n                                    <th className=\"pb-3\">Location</th>\n                                    <th className=\"pb-3\">Device</th>\n                                    <th className=\"pb-3\">Current Page</th>\n                                    <th className=\"pb-3\">Duration</th>\n                                    <th className=\"pb-3\">Status</th>\n                                </tr>\n                            </thead>\n                            <tbody className=\"divide-y divide-white/5\">\n                                {liveData.visitors.slice(0, 8).map((visitor) => (\n                                    <tr\n                                        key={visitor.id}\n                                        onClick={() => onInspectUser?.('u1')} // Using 'u1' for demo as we have mock data for it\n                                        className=\"group hover:bg-white/5 transition-colors cursor-pointer\"\n                                    >\n                                        <td className=\"py-4\">\n                                            <div>\n                                                <div className=\"text-sm font-bold text-white\">{visitor.city}</div>\n                                                <div className=\"text-xs text-gray-400\">{visitor.country}  {visitor.ip}</div>\n                                            </div>\n                                        </td>\n                                        <td className=\"py-4\">\n                                            <div>\n                                                <div className=\"text-sm text-gray-300\">{visitor.device}</div>\n                                                <div className=\"text-xs text-gray-500\">{visitor.browser}</div>\n                                            </div>\n                                        </td>\n                                        <td className=\"py-4\">\n                                            <div className=\"text-sm text-gray-300 truncate max-w-[200px]\">/products</div>\n                                        </td>\n                                        <td className=\"py-4\">\n                                            <div className=\"text-sm text-gray-300\">{formatDistanceToNow(visitor.lastSeen, { addSuffix: true })}</div>\n                                        </td>\n                                        <td className=\"py-4\">\n                                            <span className={`inline-flex px-2 py-1 text-xs font-bold rounded-full ${visitor.status === 'active' ? 'bg-green-500/20 text-green-400' :\n                                                visitor.status === 'idle' ? 'bg-yellow-500/20 text-yellow-400' :\n                                                    'bg-gray-500/20 text-gray-400'\n                                                }`}>\n                                                {visitor.status}\n                                            </span>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n\n                {/* Top Pages & Countries */}\n                <div className=\"space-y-6\">\n                    {/* Top Pages */}\n                    <div className=\"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6\">\n                        <h3 className=\"text-lg font-bold text-white mb-4 flex items-center gap-2\">\n                            <MousePointerClick className=\"w-5 h-5 text-purple-400\" />\n                            Top Pages\n                        </h3>\n                        <div className=\"space-y-3\">\n                            {liveData.topPages.map((page, i) => (\n                                <div key={i}>\n                                    <div className=\"flex justify-between text-sm mb-1\">\n                                        <span className=\"text-gray-300 truncate\">{page.url}</span>\n                                        <span className=\"text-gray-400 font-bold\">{page.count}</span>\n                                    </div>\n                                    <div className=\"h-2 bg-white/5 rounded-full overflow-hidden\">\n                                        <div\n                                            className=\"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-1000\"\n                                            style={{ width: `${(page.count / liveData.topPages[0]?.count) * 100}%` }}\n                                        />\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n\n                    {/* Countries */}\n                    <div className=\"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6\">\n                        <h3 className=\"text-lg font-bold text-white mb-4\">Active Regions</h3>\n                        <div className=\"space-y-3\">\n                            {Object.entries(liveData.countriesMap)\n                                .sort(([, a], [, b]) => b - a)\n                                .slice(0, 5)\n                                .map(([country, count]) => (\n                                    <div key={country} className=\"flex justify-between items-center\">\n                                        <span className=\"text-sm text-gray-300\">{country}</span>\n                                        <span className=\"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs font-bold rounded-full\">\n                                            {count}\n                                        </span>\n                                    </div>\n                                ))}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\ninterface MetricCardProps {\n    icon: React.ComponentType<{ className?: string }>\n    label: string\n    value: number\n    trend?: 'up' | 'down'\n    color: 'blue' | 'purple' | 'green' | 'orange'\n    pulse?: boolean\n}\n\nfunction MetricCard({ icon: Icon, label, value, trend, color, pulse }: MetricCardProps) {\n    const colorClasses = {\n        blue: 'from-blue-500/10 to-transparent text-blue-400 bg-blue-500/20',\n        purple: 'from-purple-500/10 to-transparent text-purple-400 bg-purple-500/20',\n        green: 'from-green-500/10 to-transparent text-green-400 bg-green-500/20',\n        orange: 'from-orange-500/10 to-transparent text-orange-400 bg-orange-500/20',\n    }\n\n    return (\n        <div className=\"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 relative overflow-hidden group hover:border-white/20 transition-colors\">\n            <div className={`absolute inset-0 bg-gradient-to-br ${colorClasses[color].split(' ')[0]} opacity-0 group-hover:opacity-100 transition-opacity`} />\n            <div className=\"relative z-10\">\n                <div className=\"flex justify-between items-start mb-4\">\n                    <div className={`p-3 rounded-xl ${colorClasses[color].split(' ')[2]}`}>\n                        <Icon className={`w-5 h-5 ${colorClasses[color].split(' ')[1]}`} />\n                    </div>\n                    {trend && (\n                        <div className={`flex items-center gap-1 text-xs font-bold ${trend === 'up' ? 'text-green-400' : 'text-red-400'}`}>\n                            {trend === 'up' ? <TrendingUp className=\"w-3 h-3\" /> : <TrendingDown className=\"w-3 h-3\" />}\n                            {Math.floor(Math.random() * 20) + 5}%\n                        </div>\n                    )}\n                </div>\n                <div className=\"flex items-end gap-2\">\n                    <h3 className=\"text-3xl font-black text-white\">{value.toLocaleString()}</h3>\n                    {pulse && (\n                        <span className=\"flex h-2 w-2 mb-2 relative\">\n                            <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75\"></span>\n                            <span className=\"relative inline-flex rounded-full h-2 w-2 bg-green-500\"></span>\n                        </span>\n                    )}\n                </div>\n                <p className=\"text-sm text-gray-400 font-bold mt-1\">{label}</p>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2253, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/components/admin/live-trace-view.tsx"],"sourcesContent":["export { LiveMonitoring as LiveTraceView } from './live-monitoring'\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 2269, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/app/admin/hooks/use-live-traffic.ts"],"sourcesContent":["import { useState, useEffect } from 'react'\n\nexport function useLiveTraffic() {\n    const [activeUsers, setActiveUsers] = useState(124)\n    const [cartEvents, setCartEvents] = useState<number[]>([])\n\n    useEffect(() => {\n        // Simulate heartbeat\n        const interval = setInterval(() => {\n            setActiveUsers(prev => {\n                const change = Math.floor(Math.random() * 5) - 2 // -2 to +2\n                return Math.max(50, prev + change)\n            })\n        }, 2000)\n\n        // Simulate random cart adds\n        const cartInterval = setInterval(() => {\n            if (Math.random() > 0.7) {\n                setCartEvents(prev => [...prev.slice(-19), Date.now()])\n            }\n        }, 1000)\n\n        return () => {\n            clearInterval(interval)\n            clearInterval(cartInterval)\n        }\n    }, [])\n\n    return { activeUsers, cartEvents }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS;IACZ,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gVAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gVAAQ,EAAW,EAAE;IAEzD,IAAA,iVAAS,EAAC;QACN,qBAAqB;QACrB,MAAM,WAAW,YAAY;YACzB,eAAe,CAAA;gBACX,MAAM,SAAS,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,KAAK,EAAE,WAAW;;gBAC5D,OAAO,KAAK,GAAG,CAAC,IAAI,OAAO;YAC/B;QACJ,GAAG;QAEH,4BAA4B;QAC5B,MAAM,eAAe,YAAY;YAC7B,IAAI,KAAK,MAAM,KAAK,KAAK;gBACrB,cAAc,CAAA,OAAQ;2BAAI,KAAK,KAAK,CAAC,CAAC;wBAAK,KAAK,GAAG;qBAAG;YAC1D;QACJ,GAAG;QAEH,OAAO;YACH,cAAc;YACd,cAAc;QAClB;IACJ,GAAG,EAAE;IAEL,OAAO;QAAE;QAAa;IAAW;AACrC"}},
    {"offset": {"line": 2310, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/components/admin/dashboard.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from 'react'\nimport { useLiveTraffic } from '@/app/admin/hooks/use-live-traffic'\nimport { Users, ShoppingCart, Activity, Globe } from 'lucide-react'\nimport { AreaChart, Area, XAxis, YAxis, Tooltip, ResponsiveContainer } from 'recharts'\n\nconst data = [\n    { name: '00:00', users: 40 },\n    { name: '04:00', users: 30 },\n    { name: '08:00', users: 120 },\n    { name: '12:00', users: 250 },\n    { name: '16:00', users: 310 },\n    { name: '20:00', users: 180 },\n    { name: '23:59', users: 90 },\n]\n\nexport function Dashboard() {\n    const { activeUsers, cartEvents } = useLiveTraffic()\n\n    return (\n        <div className=\"space-y-6 animate-in fade-in duration-500\">\n            {/* Live Counters */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div className=\"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-2xl relative overflow-hidden group\">\n                    <div className=\"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity\" />\n                    <div className=\"flex justify-between items-start relative z-10\">\n                        <div>\n                            <p className=\"text-gray-400 text-sm font-bold uppercase tracking-wider\">Live Users</p>\n                            <h3 className=\"text-4xl font-black text-white mt-2 flex items-center gap-3\">\n                                {activeUsers}\n                                <span className=\"flex h-3 w-3 relative\">\n                                    <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75\"></span>\n                                    <span className=\"relative inline-flex rounded-full h-3 w-3 bg-green-500\"></span>\n                                </span>\n                            </h3>\n                        </div>\n                        <div className=\"p-3 bg-blue-500/20 rounded-xl text-blue-400\">\n                            <Users className=\"w-6 h-6\" />\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-2xl relative overflow-hidden group\">\n                    <div className=\"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity\" />\n                    <div className=\"flex justify-between items-start relative z-10\">\n                        <div>\n                            <p className=\"text-gray-400 text-sm font-bold uppercase tracking-wider\">Cart Actions</p>\n                            <h3 className=\"text-4xl font-black text-white mt-2 flex items-center gap-2\">\n                                {cartEvents.length}\n                                <span className=\"text-xs font-bold text-green-400 bg-green-400/10 px-2 py-1 rounded-full\">+12%</span>\n                            </h3>\n                        </div>\n                        <div className={`p-3 rounded-xl transition-colors ${cartEvents.length > 0 ? 'bg-purple-500/20 text-purple-400 animate-pulse' : 'bg-white/5 text-gray-400'}`}>\n                            <ShoppingCart className=\"w-6 h-6\" />\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-2xl relative overflow-hidden group\">\n                    <div className=\"absolute inset-0 bg-gradient-to-br from-orange-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity\" />\n                    <div className=\"flex justify-between items-start relative z-10\">\n                        <div>\n                            <p className=\"text-gray-400 text-sm font-bold uppercase tracking-wider\">Revenue Forecast</p>\n                            <h3 className=\"text-4xl font-black text-white mt-2\">$42.5k</h3>\n                            <p className=\"text-xs text-gray-500 mt-1\">Projected EOM</p>\n                        </div>\n                        <div className=\"p-3 bg-orange-500/20 rounded-xl text-orange-400\">\n                            <Activity className=\"w-6 h-6\" />\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Main Chart & Map */}\n            <div className=\"grid lg:grid-cols-3 gap-6\">\n                <div className=\"lg:col-span-2 bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-2xl\">\n                    <h3 className=\"text-lg font-bold text-white mb-6\">Traffic Overview</h3>\n                    <div className=\"h-[300px] w-full\">\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <AreaChart data={data}>\n                                <defs>\n                                    <linearGradient id=\"colorUsers\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                                        <stop offset=\"5%\" stopColor=\"#0168A0\" stopOpacity={0.3} />\n                                        <stop offset=\"95%\" stopColor=\"#0168A0\" stopOpacity={0} />\n                                    </linearGradient>\n                                </defs>\n                                <XAxis dataKey=\"name\" stroke=\"#64748b\" fontSize={12} tickLine={false} axisLine={false} />\n                                <YAxis stroke=\"#64748b\" fontSize={12} tickLine={false} axisLine={false} />\n                                <Tooltip\n                                    contentStyle={{ backgroundColor: '#1e293b', border: '1px solid rgba(255,255,255,0.1)', borderRadius: '12px' }}\n                                    itemStyle={{ color: '#fff' }}\n                                />\n                                <Area type=\"monotone\" dataKey=\"users\" stroke=\"#0168A0\" strokeWidth={3} fillOpacity={1} fill=\"url(#colorUsers)\" />\n                            </AreaChart>\n                        </ResponsiveContainer>\n                    </div>\n                </div>\n\n                <div className=\"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-2xl\">\n                    <h3 className=\"text-lg font-bold text-white mb-6 flex items-center gap-2\">\n                        <Globe className=\"w-5 h-5 text-blue-400\" />\n                        Active Regions\n                    </h3>\n                    <div className=\"space-y-4\">\n                        {[\n                            { country: 'United States', count: 45, percent: 45 },\n                            { country: 'United Kingdom', count: 25, percent: 25 },\n                            { country: 'Germany', count: 15, percent: 15 },\n                            { country: 'France', count: 10, percent: 10 },\n                        ].map((region) => (\n                            <div key={region.country}>\n                                <div className=\"flex justify-between text-sm mb-1\">\n                                    <span className=\"text-gray-300 font-medium\">{region.country}</span>\n                                    <span className=\"text-gray-400\">{region.count} users</span>\n                                </div>\n                                <div className=\"h-2 bg-white/5 rounded-full overflow-hidden\">\n                                    <div\n                                        className=\"h-full bg-blue-500 rounded-full transition-all duration-1000 ease-out\"\n                                        style={{ width: `${region.percent}%` }}\n                                    />\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2859, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/components/admin/dashboard-view.tsx"],"sourcesContent":["export { Dashboard as DashboardView } from './dashboard'\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 2875, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/app/admin/lib/mock-data.ts"],"sourcesContent":["export const mockUsers = [\n    { id: 'u1', name: 'Alice Chen', email: 'alice@example.com', ltv: 1250.50, lastSeen: '2 mins ago', country: 'US', status: 'active' },\n    { id: 'u2', name: 'Bob Smith', email: 'bob@example.com', ltv: 450.00, lastSeen: '15 mins ago', country: 'UK', status: 'idle' },\n    { id: 'u3', name: 'Charlie Kim', email: 'charlie@example.com', ltv: 2200.00, lastSeen: '1 hour ago', country: 'KR', status: 'offline' },\n    { id: 'u4', name: 'David Miller', email: 'david@example.com', ltv: 89.99, lastSeen: 'Just now', country: 'DE', status: 'active' },\n    { id: 'u5', name: 'Eva Green', email: 'eva@example.com', ltv: 3400.25, lastSeen: '3 days ago', country: 'FR', status: 'offline' },\n]\n\nexport const mockUserHistory = {\n    'u1': [\n        { time: '10:00 AM', event: 'Session Start', type: 'info' },\n        { time: '10:02 AM', event: 'Viewed Product: Digital Factory', type: 'view' },\n        { time: '10:05 AM', event: 'Added to Cart', type: 'cart' },\n        { time: '10:15 AM', event: 'Checkout Initiated', type: 'checkout' },\n        { time: '10:18 AM', event: 'Purchase Complete ($450)', type: 'purchase' },\n    ],\n    'u2': [\n        { time: '09:30 AM', event: 'Session Start', type: 'info' },\n        { time: '09:35 AM', event: 'Viewed Product: VCarve Pro', type: 'view' },\n        { time: '09:40 AM', event: 'Added to Cart', type: 'cart' },\n        { time: '10:00 AM', event: 'Cart Abandoned', type: 'error' },\n    ]\n}\n\nexport const mockProducts = [\n    { id: 'p1', name: 'Digital Factory 11', price: 1995, cogs: 400, stock: 150 },\n    { id: 'p2', name: 'VCarve Pro', price: 699, cogs: 150, stock: 45 },\n    { id: 'p3', name: 'Aspire 12', price: 1995, cogs: 500, stock: 80 },\n    { id: 'p4', name: 'Filmmaker 10', price: 495, cogs: 100, stock: 200 },\n]\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,YAAY;IACrB;QAAE,IAAI;QAAM,MAAM;QAAc,OAAO;QAAqB,KAAK;QAAS,UAAU;QAAc,SAAS;QAAM,QAAQ;IAAS;IAClI;QAAE,IAAI;QAAM,MAAM;QAAa,OAAO;QAAmB,KAAK;QAAQ,UAAU;QAAe,SAAS;QAAM,QAAQ;IAAO;IAC7H;QAAE,IAAI;QAAM,MAAM;QAAe,OAAO;QAAuB,KAAK;QAAS,UAAU;QAAc,SAAS;QAAM,QAAQ;IAAU;IACtI;QAAE,IAAI;QAAM,MAAM;QAAgB,OAAO;QAAqB,KAAK;QAAO,UAAU;QAAY,SAAS;QAAM,QAAQ;IAAS;IAChI;QAAE,IAAI;QAAM,MAAM;QAAa,OAAO;QAAmB,KAAK;QAAS,UAAU;QAAc,SAAS;QAAM,QAAQ;IAAU;CACnI;AAEM,MAAM,kBAAkB;IAC3B,MAAM;QACF;YAAE,MAAM;YAAY,OAAO;YAAiB,MAAM;QAAO;QACzD;YAAE,MAAM;YAAY,OAAO;YAAmC,MAAM;QAAO;QAC3E;YAAE,MAAM;YAAY,OAAO;YAAiB,MAAM;QAAO;QACzD;YAAE,MAAM;YAAY,OAAO;YAAsB,MAAM;QAAW;QAClE;YAAE,MAAM;YAAY,OAAO;YAA4B,MAAM;QAAW;KAC3E;IACD,MAAM;QACF;YAAE,MAAM;YAAY,OAAO;YAAiB,MAAM;QAAO;QACzD;YAAE,MAAM;YAAY,OAAO;YAA8B,MAAM;QAAO;QACtE;YAAE,MAAM;YAAY,OAAO;YAAiB,MAAM;QAAO;QACzD;YAAE,MAAM;YAAY,OAAO;YAAkB,MAAM;QAAQ;KAC9D;AACL;AAEO,MAAM,eAAe;IACxB;QAAE,IAAI;QAAM,MAAM;QAAsB,OAAO;QAAM,MAAM;QAAK,OAAO;IAAI;IAC3E;QAAE,IAAI;QAAM,MAAM;QAAc,OAAO;QAAK,MAAM;QAAK,OAAO;IAAG;IACjE;QAAE,IAAI;QAAM,MAAM;QAAa,OAAO;QAAM,MAAM;QAAK,OAAO;IAAG;IACjE;QAAE,IAAI;QAAM,MAAM;QAAgB,OAAO;QAAK,MAAM;QAAK,OAAO;IAAI;CACvE"}},
    {"offset": {"line": 3015, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/components/admin/product-management.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from 'react'\nimport {\n    Plus,\n    Search,\n    Edit2,\n    Trash2,\n    Package,\n    TrendingUp,\n    AlertTriangle,\n    CheckCircle2,\n    DollarSign,\n    ArrowRight\n} from 'lucide-react'\nimport { mockProducts } from '@/app/admin/lib/mock-data'\n\nexport function ProductManagement() {\n    const [products, setProducts] = useState(mockProducts)\n    const [searchTerm, setSearchTerm] = useState('')\n\n    const filteredProducts = products.filter(p =>\n        p.name.toLowerCase().includes(searchTerm.toLowerCase())\n    )\n\n    const calculateMargin = (price: number, cogs: number) => {\n        if (price === 0) return 0\n        return ((price - cogs) / price) * 100\n    }\n\n    return (\n        <div className=\"space-y-8 animate-in fade-in duration-500\">\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                <div>\n                    <h2 className=\"text-3xl font-black text-white\">Product Command</h2>\n                    <p className=\"text-gray-400\">Manage inventory and optimize profit margins.</p>\n                </div>\n                <button className=\"bg-[#0168A0] hover:bg-[#015580] text-white font-bold px-6 py-3 rounded-xl transition-all flex items-center gap-2 shadow-lg shadow-[#0168A0]/20\">\n                    <Plus className=\"w-5 h-5\" />\n                    Add New Product\n                </button>\n            </div>\n\n            {/* Search & Filters */}\n            <div className=\"flex gap-4\">\n                <div className=\"flex-1 relative\">\n                    <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500\" />\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search products by name or SKU...\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                        className=\"w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder:text-gray-500 focus:border-[#0168A0] focus:ring-1 focus:ring-[#0168A0] outline-none transition-all\"\n                    />\n                </div>\n                <button className=\"px-6 py-3 bg-white/5 border border-white/10 rounded-xl text-white font-bold hover:bg-white/10 transition-all\">\n                    Filters\n                </button>\n            </div>\n\n            {/* Product Grid */}\n            <div className=\"grid grid-cols-1 gap-4\">\n                {filteredProducts.map((product) => {\n                    const margin = calculateMargin(product.price, product.cogs)\n                    const isLowMargin = margin < 20\n\n                    return (\n                        <div key={product.id} className=\"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 group hover:border-white/20 transition-all\">\n                            <div className=\"flex flex-col lg:flex-row lg:items-center gap-8\">\n                                {/* Product Info */}\n                                <div className=\"flex items-center gap-4 min-w-[300px]\">\n                                    <div className=\"w-16 h-16 bg-[#0f172a] rounded-xl flex items-center justify-center border border-white/5\">\n                                        <Package className=\"w-8 h-8 text-[#0168A0]\" />\n                                    </div>\n                                    <div>\n                                        <h3 className=\"text-lg font-black text-white\">{product.name}</h3>\n                                        <p className=\"text-xs text-gray-500\">SKU: {product.id.toUpperCase()}-2024</p>\n                                        <div className=\"flex items-center gap-2 mt-1\">\n                                            <span className=\"w-2 h-2 rounded-full bg-green-500\" />\n                                            <span className=\"text-[10px] font-bold text-gray-400 uppercase tracking-widest\">In Stock: {product.stock}</span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Pricing & Smart Margins */}\n                                <div className=\"flex-1 grid grid-cols-2 md:grid-cols-3 gap-6\">\n                                    <div className=\"space-y-1\">\n                                        <p className=\"text-[10px] font-bold text-gray-500 uppercase tracking-wider\">Price</p>\n                                        <div className=\"flex items-center gap-2\">\n                                            <span className=\"text-xl font-black text-white\">${product.price.toLocaleString()}</span>\n                                            <Edit2 className=\"w-3 h-3 text-gray-600 cursor-pointer hover:text-white transition-colors\" />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"space-y-1\">\n                                        <p className=\"text-[10px] font-bold text-gray-500 uppercase tracking-wider\">COGS</p>\n                                        <p className=\"text-xl font-black text-gray-400\">${product.cogs.toLocaleString()}</p>\n                                    </div>\n\n                                    <div className=\"space-y-1\">\n                                        <p className=\"text-[10px] font-bold text-gray-500 uppercase tracking-wider\">Profit Margin</p>\n                                        <div className=\"flex items-center gap-2\">\n                                            <span className={`text-xl font-black ${isLowMargin ? 'text-orange-400' : 'text-green-400'}`}>\n                                                {margin.toFixed(1)}%\n                                            </span>\n                                            {isLowMargin && (\n                                                <div className=\"group/tip relative\">\n                                                    <AlertTriangle className=\"w-4 h-4 text-orange-400 animate-pulse\" />\n                                                    <div className=\"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 bg-orange-500 text-white text-[10px] font-bold rounded-lg opacity-0 group-hover/tip:opacity-100 transition-opacity pointer-events-none\">\n                                                        Low margin detected! Consider raising price or reducing COGS.\n                                                    </div>\n                                                </div>\n                                            )}\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Actions */}\n                                <div className=\"flex items-center gap-3\">\n                                    <button className=\"p-3 bg-white/5 hover:bg-[#0168A0]/20 text-gray-400 hover:text-[#0168A0] rounded-xl transition-all border border-transparent hover:border-[#0168A0]/30\">\n                                        <TrendingUp className=\"w-5 h-5\" />\n                                    </button>\n                                    <button className=\"p-3 bg-white/5 hover:bg-red-500/20 text-gray-400 hover:text-red-500 rounded-xl transition-all border border-transparent hover:border-red-500/30\">\n                                        <Trash2 className=\"w-5 h-5\" />\n                                    </button>\n                                    <button className=\"flex items-center gap-2 px-4 py-3 bg-white/5 hover:bg-white/10 text-white font-bold rounded-xl transition-all border border-white/5\">\n                                        View Details\n                                        <ArrowRight className=\"w-4 h-4\" />\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3452, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/components/admin/user-inspector.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from 'react'\nimport {\n    X,\n    Clock,\n    MapPin,\n    Globe,\n    Monitor,\n    Smartphone,\n    ArrowRight,\n    ShoppingCart,\n    CreditCard,\n    AlertCircle,\n    CheckCircle2,\n    History\n} from 'lucide-react'\nimport { format } from 'date-fns'\nimport { mockUsers, mockUserHistory } from '@/app/admin/lib/mock-data'\n\ninterface UserInspectorProps {\n    userId: string | null\n    onClose: () => void\n}\n\nexport function UserInspector({ userId, onClose }: UserInspectorProps) {\n    if (!userId) return null\n\n    const user = mockUsers.find(u => u.id === userId)\n    const history = mockUserHistory[userId as keyof typeof mockUserHistory] || []\n\n    if (!user) return null\n\n    return (\n        <div className=\"fixed inset-y-0 right-0 w-full md:w-[500px] bg-[#1e293b] border-l border-white/10 shadow-2xl z-[100] animate-in slide-in-from-right duration-300\">\n            <div className=\"h-full flex flex-col\">\n                {/* Header */}\n                <div className=\"p-6 border-b border-white/10 flex items-center justify-between bg-[#0f172a]/50\">\n                    <div className=\"flex items-center gap-4\">\n                        <div className=\"w-12 h-12 rounded-full bg-[#0168A0] flex items-center justify-center text-white font-black text-xl shadow-lg shadow-[#0168A0]/20\">\n                            {user.name.charAt(0)}\n                        </div>\n                        <div>\n                            <h3 className=\"text-lg font-black text-white\">{user.name}</h3>\n                            <p className=\"text-xs text-gray-400\">{user.email}</p>\n                        </div>\n                    </div>\n                    <button\n                        onClick={onClose}\n                        className=\"p-2 hover:bg-white/5 rounded-lg text-gray-400 hover:text-white transition-colors\"\n                    >\n                        <X className=\"w-6 h-6\" />\n                    </button>\n                </div>\n\n                {/* Content */}\n                <div className=\"flex-1 overflow-y-auto p-6 space-y-8\">\n                    {/* User Stats */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <div className=\"bg-white/5 border border-white/5 p-4 rounded-xl\">\n                            <p className=\"text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-1\">Total LTV</p>\n                            <p className=\"text-xl font-black text-green-400\">${user.ltv.toFixed(2)}</p>\n                        </div>\n                        <div className=\"bg-white/5 border border-white/5 p-4 rounded-xl\">\n                            <p className=\"text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-1\">Last Seen</p>\n                            <p className=\"text-sm font-bold text-white\">{user.lastSeen}</p>\n                        </div>\n                    </div>\n\n                    {/* Device Info */}\n                    <div className=\"space-y-3\">\n                        <h4 className=\"text-xs font-bold text-gray-400 uppercase tracking-widest\">Device & Origin</h4>\n                        <div className=\"grid grid-cols-2 gap-3\">\n                            <div className=\"flex items-center gap-2 text-sm text-gray-300\">\n                                <Monitor className=\"w-4 h-4 text-blue-400\" />\n                                <span>Chrome / macOS</span>\n                            </div>\n                            <div className=\"flex items-center gap-2 text-sm text-gray-300\">\n                                <Globe className=\"w-4 h-4 text-purple-400\" />\n                                <span>Direct Traffic</span>\n                            </div>\n                            <div className=\"flex items-center gap-2 text-sm text-gray-300\">\n                                <MapPin className=\"w-4 h-4 text-red-400\" />\n                                <span>{user.country}</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* The Time Machine (Timeline) */}\n                    <div className=\"space-y-6\">\n                        <div className=\"flex items-center gap-2\">\n                            <History className=\"w-4 h-4 text-[#0168A0]\" />\n                            <h4 className=\"text-xs font-bold text-gray-400 uppercase tracking-widest\">The Time Machine</h4>\n                        </div>\n\n                        <div className=\"relative space-y-8 before:absolute before:inset-0 before:ml-4 before:-translate-x-px before:h-full before:w-0.5 before:bg-gradient-to-b before:from-[#0168A0] before:via-white/5 before:to-transparent\">\n                            {history.map((item, index) => (\n                                <div key={index} className=\"relative flex items-start gap-6 group\">\n                                    <div className={`absolute left-0 w-8 h-8 rounded-full border-4 border-[#1e293b] flex items-center justify-center z-10 transition-transform group-hover:scale-110 ${item.type === 'purchase' ? 'bg-green-500' :\n                                            item.type === 'error' ? 'bg-red-500' :\n                                                item.type === 'cart' ? 'bg-purple-500' :\n                                                    'bg-[#0168A0]'\n                                        }`}>\n                                        {item.type === 'purchase' ? <CheckCircle2 className=\"w-3 h-3 text-white\" /> :\n                                            item.type === 'error' ? <AlertCircle className=\"w-3 h-3 text-white\" /> :\n                                                item.type === 'cart' ? <ShoppingCart className=\"w-3 h-3 text-white\" /> :\n                                                    <div className=\"w-1.5 h-1.5 bg-white rounded-full\" />}\n                                    </div>\n\n                                    <div className=\"flex-1 pt-1\">\n                                        <div className=\"flex items-center justify-between mb-1\">\n                                            <p className={`text-sm font-bold ${item.type === 'purchase' ? 'text-green-400' :\n                                                    item.type === 'error' ? 'text-red-400' :\n                                                        'text-white'\n                                                }`}>\n                                                {item.event}\n                                            </p>\n                                            <span className=\"text-[10px] font-bold text-gray-500\">{item.time}</span>\n                                        </div>\n                                        {item.type === 'error' && (\n                                            <p className=\"text-xs text-red-400/70 bg-red-400/5 p-2 rounded-lg border border-red-400/10\">\n                                                Cart abandoned at checkout. Potential revenue loss: $1,995.00\n                                            </p>\n                                        )}\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Footer Actions */}\n                <div className=\"p-6 border-t border-white/10 bg-[#0f172a]/50 flex gap-3\">\n                    <button className=\"flex-1 bg-[#0168A0] hover:bg-[#015580] text-white font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2\">\n                        <Smartphone className=\"w-4 h-4\" />\n                        God Mode\n                    </button>\n                    <button className=\"px-4 py-3 bg-white/5 hover:bg-white/10 text-white font-bold rounded-xl transition-all\">\n                        Email User\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3885, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/components/admin/payments-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from 'react'\nimport {\n    CreditCard,\n    DollarSign,\n    RefreshCw,\n    CheckCircle2,\n    AlertCircle,\n    ArrowUpRight,\n    Download,\n    ExternalLink,\n    Copy\n} from 'lucide-react'\nimport { toast } from 'sonner'\n\nexport function PaymentsView() {\n    const [stripeKey, setStripeKey] = useState('pk_test_51O...')\n    const [webhookSecret, setWebhookSecret] = useState('whsec_...')\n\n    const transactions = [\n        { id: 'tx_1234', customer: 'alice@example.com', amount: 1995.00, status: 'succeeded', date: '2 mins ago' },\n        { id: 'tx_1235', customer: 'bob@example.com', amount: 495.00, status: 'succeeded', date: '15 mins ago' },\n        { id: 'tx_1236', customer: 'charlie@example.com', amount: 1995.00, status: 'failed', date: '1 hour ago' },\n        { id: 'tx_1237', customer: 'david@example.com', amount: 699.00, status: 'refunded', date: '2 hours ago' },\n    ]\n\n    const copyToClipboard = (text: string) => {\n        navigator.clipboard.writeText(text)\n        toast.success('Copied to clipboard')\n    }\n\n    return (\n        <div className=\"space-y-8 animate-in fade-in duration-500\">\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                <div>\n                    <h2 className=\"text-3xl font-black text-white\">Monetization Command</h2>\n                    <p className=\"text-gray-400\">Manage payments, webhooks, and revenue streams.</p>\n                </div>\n                <button className=\"bg-[#635BFF] hover:bg-[#534be0] text-white font-bold px-6 py-3 rounded-xl transition-all flex items-center gap-2 shadow-lg shadow-[#635BFF]/20\">\n                    <ExternalLink className=\"w-5 h-5\" />\n                    Open Stripe Dashboard\n                </button>\n            </div>\n\n            <div className=\"grid lg:grid-cols-3 gap-6\">\n                {/* Stripe Configuration */}\n                <div className=\"lg:col-span-2 space-y-6\">\n                    <div className=\"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6\">\n                        <div className=\"flex items-center gap-3 mb-6\">\n                            <div className=\"p-3 bg-[#635BFF]/20 rounded-xl\">\n                                <CreditCard className=\"w-6 h-6 text-[#635BFF]\" />\n                            </div>\n                            <div>\n                                <h3 className=\"text-lg font-bold text-white\">Stripe Integration</h3>\n                                <p className=\"text-sm text-gray-400\">Configure your payment gateway settings.</p>\n                            </div>\n                        </div>\n\n                        <div className=\"space-y-4\">\n                            <div className=\"space-y-2\">\n                                <label className=\"text-xs font-bold text-gray-500 uppercase tracking-wider\">Publishable Key</label>\n                                <div className=\"flex gap-2\">\n                                    <input\n                                        type=\"text\"\n                                        value={stripeKey}\n                                        onChange={(e) => setStripeKey(e.target.value)}\n                                        className=\"flex-1 bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white font-mono text-sm focus:border-[#635BFF] focus:ring-1 focus:ring-[#635BFF] outline-none transition-all\"\n                                    />\n                                    <button\n                                        onClick={() => copyToClipboard(stripeKey)}\n                                        className=\"p-3 bg-white/5 hover:bg-white/10 rounded-xl text-gray-400 hover:text-white transition-colors\"\n                                    >\n                                        <Copy className=\"w-5 h-5\" />\n                                    </button>\n                                </div>\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-xs font-bold text-gray-500 uppercase tracking-wider\">Webhook Secret</label>\n                                <div className=\"flex gap-2\">\n                                    <input\n                                        type=\"password\"\n                                        value={webhookSecret}\n                                        onChange={(e) => setWebhookSecret(e.target.value)}\n                                        className=\"flex-1 bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white font-mono text-sm focus:border-[#635BFF] focus:ring-1 focus:ring-[#635BFF] outline-none transition-all\"\n                                    />\n                                    <button\n                                        onClick={() => copyToClipboard(webhookSecret)}\n                                        className=\"p-3 bg-white/5 hover:bg-white/10 rounded-xl text-gray-400 hover:text-white transition-colors\"\n                                    >\n                                        <Copy className=\"w-5 h-5\" />\n                                    </button>\n                                </div>\n                            </div>\n\n                            <div className=\"pt-4 flex items-center justify-between\">\n                                <div className=\"flex items-center gap-2 text-sm text-green-400 bg-green-400/10 px-3 py-1.5 rounded-full font-bold\">\n                                    <CheckCircle2 className=\"w-4 h-4\" />\n                                    Webhooks Active\n                                </div>\n                                <button className=\"text-sm font-bold text-[#635BFF] hover:text-[#534be0] transition-colors\">\n                                    Test Connection\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Recent Transactions */}\n                    <div className=\"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6\">\n                        <h3 className=\"text-lg font-bold text-white mb-6\">Recent Transactions</h3>\n                        <div className=\"space-y-4\">\n                            {transactions.map((tx) => (\n                                <div key={tx.id} className=\"flex items-center justify-between p-4 bg-white/5 rounded-xl hover:bg-white/10 transition-colors group\">\n                                    <div className=\"flex items-center gap-4\">\n                                        <div className={`p-2 rounded-lg ${tx.status === 'succeeded' ? 'bg-green-500/20 text-green-400' :\n                                                tx.status === 'failed' ? 'bg-red-500/20 text-red-400' :\n                                                    'bg-orange-500/20 text-orange-400'\n                                            }`}>\n                                            {tx.status === 'succeeded' ? <CheckCircle2 className=\"w-5 h-5\" /> :\n                                                tx.status === 'failed' ? <AlertCircle className=\"w-5 h-5\" /> :\n                                                    <RefreshCw className=\"w-5 h-5\" />}\n                                        </div>\n                                        <div>\n                                            <p className=\"font-bold text-white text-sm\">{tx.customer}</p>\n                                            <p className=\"text-xs text-gray-500 font-mono\">{tx.id}</p>\n                                        </div>\n                                    </div>\n                                    <div className=\"text-right\">\n                                        <p className=\"font-black text-white\">${tx.amount.toFixed(2)}</p>\n                                        <p className=\"text-xs text-gray-500\">{tx.date}</p>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Revenue Stats */}\n                <div className=\"space-y-6\">\n                    <div className=\"bg-gradient-to-br from-[#635BFF] to-[#534be0] rounded-2xl p-6 text-white shadow-xl shadow-[#635BFF]/20\">\n                        <div className=\"flex items-center justify-between mb-8\">\n                            <div className=\"p-3 bg-white/20 rounded-xl backdrop-blur-sm\">\n                                <DollarSign className=\"w-6 h-6\" />\n                            </div>\n                            <span className=\"flex items-center gap-1 text-xs font-bold bg-white/20 px-2 py-1 rounded-full backdrop-blur-sm\">\n                                <ArrowUpRight className=\"w-3 h-3\" />\n                                +12.5%\n                            </span>\n                        </div>\n                        <p className=\"text-sm font-medium opacity-80 mb-1\">Total Revenue (This Month)</p>\n                        <h3 className=\"text-4xl font-black\">$42,500.00</h3>\n                    </div>\n\n                    <div className=\"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6\">\n                        <h3 className=\"text-lg font-bold text-white mb-4\">Quick Actions</h3>\n                        <div className=\"space-y-3\">\n                            <button className=\"w-full flex items-center justify-between p-4 bg-white/5 hover:bg-white/10 rounded-xl transition-colors group text-left\">\n                                <span className=\"font-bold text-gray-300 group-hover:text-white\">Process Refund</span>\n                                <RefreshCw className=\"w-4 h-4 text-gray-500 group-hover:text-white\" />\n                            </button>\n                            <button className=\"w-full flex items-center justify-between p-4 bg-white/5 hover:bg-white/10 rounded-xl transition-colors group text-left\">\n                                <span className=\"font-bold text-gray-300 group-hover:text-white\">Download Invoice</span>\n                                <Download className=\"w-4 h-4 text-gray-500 group-hover:text-white\" />\n                            </button>\n                            <button className=\"w-full flex items-center justify-between p-4 bg-white/5 hover:bg-white/10 rounded-xl transition-colors group text-left\">\n                                <span className=\"font-bold text-gray-300 group-hover:text-white\">View Failed Payments</span>\n                                <AlertCircle className=\"w-4 h-4 text-gray-500 group-hover:text-white\" />\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4518, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/components/admin/integrations-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from 'react'\nimport {\n    Code2,\n    Save,\n    Play,\n    AlertTriangle,\n    CheckCircle2,\n    Trash2,\n    Plus,\n    History\n} from 'lucide-react'\nimport { toast } from 'sonner'\n\ninterface Script {\n    id: string\n    name: string\n    code: string\n    location: 'head' | 'body'\n    enabled: boolean\n}\n\nexport function IntegrationsView() {\n    const [scripts, setScripts] = useState<Script[]>([\n        {\n            id: 'ga4',\n            name: 'Google Analytics 4',\n            code: '<!-- Google tag (gtag.js) -->\\n<script async src=\"https://www.googletagmanager.com/gtag/js?id=G-XXXXXX\"></script>\\n<script>\\n  window.dataLayer = window.dataLayer || [];\\n  function gtag(){dataLayer.push(arguments);}\\n  gtag(\\'js\\', new Date());\\n  gtag(\\'config\\', \\'G-XXXXXX\\');\\n</script>',\n            location: 'head',\n            enabled: true\n        },\n        {\n            id: 'fb-pixel',\n            name: 'Facebook Pixel',\n            code: '<!-- Meta Pixel Code -->\\n<script>\\n!function(f,b,e,v,n,t,s)\\n{if(f.fbq)return;n=f.fbq=function(){n.callMethod?\\nn.callMethod.apply(n,arguments):n.queue.push(arguments)};\\nif(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version=\\'2.0\\';\\n...</script>',\n            location: 'head',\n            enabled: false\n        }\n    ])\n\n    const [activeScriptId, setActiveScriptId] = useState<string | null>(scripts[0].id)\n    const activeScript = scripts.find(s => s.id === activeScriptId)\n\n    const handleSave = () => {\n        toast.success('Script configuration saved successfully')\n    }\n\n    const handleToggle = (id: string) => {\n        setScripts(scripts.map(s =>\n            s.id === id ? { ...s, enabled: !s.enabled } : s\n        ))\n        toast.success('Script status updated')\n    }\n\n    return (\n        <div className=\"space-y-8 animate-in fade-in duration-500\">\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                <div>\n                    <h2 className=\"text-3xl font-black text-white\">Integration Command</h2>\n                    <p className=\"text-gray-400\">Manage tracking codes and third-party scripts.</p>\n                </div>\n                <button className=\"bg-[#0168A0] hover:bg-[#015580] text-white font-bold px-6 py-3 rounded-xl transition-all flex items-center gap-2 shadow-lg shadow-[#0168A0]/20\">\n                    <Plus className=\"w-5 h-5\" />\n                    Add New Script\n                </button>\n            </div>\n\n            <div className=\"grid lg:grid-cols-3 gap-6\">\n                {/* Script List */}\n                <div className=\"space-y-4\">\n                    {scripts.map((script) => (\n                        <div\n                            key={script.id}\n                            onClick={() => setActiveScriptId(script.id)}\n                            className={`p-4 rounded-xl border cursor-pointer transition-all ${activeScriptId === script.id\n                                    ? 'bg-[#0168A0]/10 border-[#0168A0] ring-1 ring-[#0168A0]'\n                                    : 'bg-white/5 border-white/10 hover:bg-white/10'\n                                }`}\n                        >\n                            <div className=\"flex items-center justify-between mb-2\">\n                                <div className=\"flex items-center gap-3\">\n                                    <div className={`p-2 rounded-lg ${script.enabled ? 'bg-green-500/20 text-green-400' : 'bg-gray-500/20 text-gray-400'}`}>\n                                        <Code2 className=\"w-4 h-4\" />\n                                    </div>\n                                    <span className=\"font-bold text-white text-sm\">{script.name}</span>\n                                </div>\n                                <div className={`w-2 h-2 rounded-full ${script.enabled ? 'bg-green-500' : 'bg-gray-500'}`} />\n                            </div>\n                            <div className=\"flex items-center gap-2 text-xs text-gray-400 ml-11\">\n                                <span className=\"uppercase font-bold tracking-wider\">{script.location}</span>\n                                <span></span>\n                                <span>Last edited 2d ago</span>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                {/* Editor */}\n                <div className=\"lg:col-span-2 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 flex flex-col h-[600px]\">\n                    {activeScript ? (\n                        <>\n                            <div className=\"flex items-center justify-between mb-6\">\n                                <div className=\"flex items-center gap-4\">\n                                    <h3 className=\"text-lg font-bold text-white\">{activeScript.name}</h3>\n                                    <span className={`px-2 py-1 rounded-full text-xs font-bold ${activeScript.enabled ? 'bg-green-500/10 text-green-400' : 'bg-gray-500/10 text-gray-400'\n                                        }`}>\n                                        {activeScript.enabled ? 'Active' : 'Disabled'}\n                                    </span>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                    <button\n                                        onClick={() => handleToggle(activeScript.id)}\n                                        className={`p-2 rounded-lg transition-colors ${activeScript.enabled\n                                                ? 'bg-red-500/10 text-red-400 hover:bg-red-500/20'\n                                                : 'bg-green-500/10 text-green-400 hover:bg-green-500/20'\n                                            }`}\n                                    >\n                                        {activeScript.enabled ? 'Disable' : 'Enable'}\n                                    </button>\n                                    <button className=\"p-2 bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white rounded-lg transition-colors\">\n                                        <History className=\"w-5 h-5\" />\n                                    </button>\n                                    <button className=\"p-2 bg-white/5 hover:bg-red-500/10 text-gray-400 hover:text-red-400 rounded-lg transition-colors\">\n                                        <Trash2 className=\"w-5 h-5\" />\n                                    </button>\n                                </div>\n                            </div>\n\n                            <div className=\"flex-1 bg-[#0f172a] border border-white/10 rounded-xl p-4 font-mono text-sm text-gray-300 overflow-auto mb-6 relative group\">\n                                <textarea\n                                    value={activeScript.code}\n                                    onChange={(e) => {\n                                        const newScripts = scripts.map(s =>\n                                            s.id === activeScript.id ? { ...s, code: e.target.value } : s\n                                        )\n                                        setScripts(newScripts)\n                                    }}\n                                    className=\"w-full h-full bg-transparent outline-none resize-none\"\n                                    spellCheck={false}\n                                />\n                                <div className=\"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity\">\n                                    <span className=\"text-xs text-gray-500 font-bold uppercase tracking-wider\">Editor Mode</span>\n                                </div>\n                            </div>\n\n                            <div className=\"flex items-center justify-between\">\n                                <div className=\"flex items-center gap-2 text-yellow-400 bg-yellow-400/10 px-3 py-2 rounded-lg text-xs font-bold\">\n                                    <AlertTriangle className=\"w-4 h-4\" />\n                                    Changes affect live site immediately\n                                </div>\n                                <div className=\"flex gap-3\">\n                                    <button className=\"px-4 py-2 bg-white/5 hover:bg-white/10 text-white font-bold rounded-xl transition-colors flex items-center gap-2\">\n                                        <Play className=\"w-4 h-4\" />\n                                        Test Script\n                                    </button>\n                                    <button\n                                        onClick={handleSave}\n                                        className=\"px-6 py-2 bg-[#0168A0] hover:bg-[#015580] text-white font-bold rounded-xl transition-colors flex items-center gap-2 shadow-lg shadow-[#0168A0]/20\"\n                                    >\n                                        <Save className=\"w-4 h-4\" />\n                                        Save Changes\n                                    </button>\n                                </div>\n                            </div>\n                        </>\n                    ) : (\n                        <div className=\"flex-1 flex flex-col items-center justify-center text-gray-500\">\n                            <Code2 className=\"w-12 h-12 mb-4 opacity-20\" />\n                            <p className=\"font-bold\">Select a script to edit</p>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4958, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/app/admin/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, Suspense } from \"react\"\nimport { useRouter, useSearchParams } from \"next/navigation\"\nimport {\n    LayoutDashboard,\n    Settings,\n    LogOut,\n    Menu,\n    BarChart2,\n    Activity,\n    X\n} from \"lucide-react\"\nimport Image from \"next/image\"\nimport { SettingsView } from \"@/components/admin/settings-view\"\nimport { AnalyticsView } from \"@/components/admin/analytics-view\"\nimport { LiveTraceView } from \"@/components/admin/live-trace-view\"\nimport { DashboardView } from \"@/components/admin/dashboard-view\"\nimport { ProductManagement } from \"@/components/admin/product-management\"\nimport { UserInspector } from \"@/components/admin/user-inspector\"\nimport { PaymentsView } from \"@/components/admin/payments-view\"\nimport { IntegrationsView } from \"@/components/admin/integrations-view\"\nimport { Package, CreditCard, Code2 } from \"lucide-react\"\n\nfunction AdminDashboardContent() {\n    const router = useRouter()\n    const searchParams = useSearchParams()\n    const [activeTab, setActiveTab] = useState(\"dashboard\")\n    const [sidebarOpen, setSidebarOpen] = useState(false)\n    const [selectedUserId, setSelectedUserId] = useState<string | null>(null)\n\n    useEffect(() => {\n        const view = searchParams.get(\"view\")\n        if (view) {\n            setActiveTab(view)\n        }\n    }, [searchParams])\n\n    useEffect(() => {\n        // Check for auth token\n        const token = document.cookie.split(\"; \").find((row) => row.startsWith(\"admin_token=\"))\n        if (!token) {\n            router.push(\"/admin/login\")\n        }\n    }, [router])\n\n    const handleTabChange = (id: string) => {\n        setActiveTab(id)\n        setSidebarOpen(false)\n        router.push(`/admin?view=${id}`, { scroll: false })\n    }\n\n    const menuItems = [\n        { id: \"dashboard\", icon: LayoutDashboard, label: \"Dashboard\" },\n        { id: \"analytics\", icon: BarChart2, label: \"Analytics\" },\n        { id: \"live-trace\", icon: Activity, label: \"User Trace\" },\n        { id: \"products\", icon: Package, label: \"Products\" },\n        { id: \"payments\", icon: CreditCard, label: \"Monetization\" },\n        { id: \"integrations\", icon: Code2, label: \"Integrations\" },\n        { id: \"settings\", icon: Settings, label: \"Settings\" },\n    ]\n\n    const handleLogout = () => {\n        document.cookie = \"admin_token=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT\"\n        router.push(\"/admin/login\")\n    }\n\n    const renderContent = () => {\n        switch (activeTab) {\n            case \"dashboard\":\n                return <DashboardView />\n            case \"analytics\":\n                return <AnalyticsView />\n            case \"live-trace\":\n                return <LiveTraceView onInspectUser={(id: string) => setSelectedUserId(id)} />\n            case \"products\":\n                return <ProductManagement />\n            case \"payments\":\n                return <PaymentsView />\n            case \"integrations\":\n                return <IntegrationsView />\n            case \"settings\":\n                return <SettingsView />\n            default:\n                return <DashboardView />\n        }\n    }\n\n    return (\n        <div className=\"min-h-screen bg-[#0f172a] flex font-sans text-white\">\n            {/* Mobile Sidebar Backdrop */}\n            {sidebarOpen && (\n                <div\n                    className=\"fixed inset-0 bg-black/80 z-40 lg:hidden backdrop-blur-sm transition-opacity\"\n                    onClick={() => setSidebarOpen(false)}\n                />\n            )}\n\n            {/* Sidebar */}\n            <aside\n                className={`fixed lg:static inset-y-0 left-0 z-50 w-72 bg-[#1e293b] border-r border-white/5 transform transition-transform duration-300 ease-in-out flex flex-col ${sidebarOpen ? \"translate-x-0\" : \"-translate-x-full lg:translate-x-0\"\n                    }`}\n            >\n                <div className=\"h-24 flex items-center justify-center border-b border-white/5 px-6 relative\">\n                    <div className=\"flex items-center gap-2\">\n                        <Image\n                            src=\"/images/cropped-ixtzd985wxrrucij9vkr.avif\"\n                            alt=\"CADLINK\"\n                            width={140}\n                            height={40}\n                            className=\"object-contain brightness-0 invert\"\n                        />\n                    </div>\n                    <button\n                        onClick={() => setSidebarOpen(false)}\n                        className=\"absolute right-4 lg:hidden text-gray-400 hover:text-white\"\n                    >\n                        <X className=\"w-6 h-6\" />\n                    </button>\n                </div>\n\n                <nav className=\"flex-1 p-6 space-y-2 overflow-y-auto\">\n                    <div className=\"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 px-4\">Menu</div>\n                    {menuItems.map((item) => {\n                        const isActive = activeTab === item.id\n                        return (\n                            <button\n                                key={item.id}\n                                onClick={() => handleTabChange(item.id)}\n                                className={`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all duration-200 group ${isActive\n                                    ? \"bg-[#0168A0] text-white shadow-lg shadow-[#0168A0]/30\"\n                                    : \"text-gray-400 hover:bg-white/5 hover:text-white\"\n                                    }`}\n                            >\n                                <item.icon className={`w-5 h-5 ${isActive ? \"text-white\" : \"text-gray-400 group-hover:text-white\"}`} />\n                                {item.label}\n                            </button>\n                        )\n                    })}\n\n                    <div className=\"pt-4 mt-4 border-t border-white/5\">\n                        <button\n                            onClick={() => router.push(\"/\")}\n                            className=\"w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold text-gray-400 hover:bg-white/5 hover:text-white transition-all duration-200\"\n                        >\n                            <LogOut className=\"w-5 h-5 rotate-180\" />\n                            Back to Store\n                        </button>\n                    </div>\n                </nav>\n\n                <div className=\"p-6 border-t border-white/5\">\n                    <button\n                        onClick={handleLogout}\n                        className=\"flex items-center gap-3 px-4 py-3.5 w-full rounded-xl text-sm font-bold text-red-400 hover:bg-red-500/10 transition-colors\"\n                    >\n                        <LogOut className=\"w-5 h-5\" />\n                        Logout\n                    </button>\n                </div>\n            </aside>\n\n            {/* Main Content */}\n            <div className=\"flex-1 flex flex-col min-w-0 h-screen overflow-hidden\">\n                {/* Top Header */}\n                <header className=\"bg-[#1e293b] border-b border-white/5 h-20 flex items-center justify-between px-4 lg:px-8 flex-shrink-0\">\n                    <div className=\"flex items-center gap-4\">\n                        <button\n                            onClick={() => setSidebarOpen(true)}\n                            className=\"lg:hidden p-2 text-gray-400 hover:bg-white/5 rounded-lg transition-colors\"\n                        >\n                            <Menu className=\"w-6 h-6\" />\n                        </button>\n                        <h1 className=\"text-xl font-black text-white capitalize hidden sm:block\">\n                            {menuItems.find(i => i.id === activeTab)?.label}\n                        </h1>\n                    </div>\n\n                    <div className=\"flex items-center gap-4\">\n                        <div className=\"flex items-center gap-3 pl-6 border-l border-white/5\">\n                            <div className=\"text-right hidden sm:block\">\n                                <p className=\"text-sm font-bold text-white\">Admin User</p>\n                                <p className=\"text-xs text-gray-400\">Super Admin</p>\n                            </div>\n                            <div className=\"w-10 h-10 bg-[#0168A0] rounded-full flex items-center justify-center text-white font-bold shadow-md shadow-[#0168A0]/20\">\n                                A\n                            </div>\n                        </div>\n                    </div>\n                </header>\n\n                {/* Page Content */}\n                <main className=\"flex-1 overflow-y-auto bg-[#0f172a] p-4 lg:p-8\">\n                    <div className=\"max-w-7xl mx-auto\">\n                        {renderContent()}\n                    </div>\n                </main>\n            </div>\n\n            {/* User Inspector Overlay */}\n            <UserInspector\n                userId={selectedUserId}\n                onClose={() => setSelectedUserId(null)}\n            />\n        </div>\n    )\n}\n\nexport default function AdminDashboard() {\n    return (\n        <Suspense fallback={<div>Loading...</div>}>\n            <AdminDashboardContent />\n        </Suspense>\n    )\n}\n"],"names":[],"mappings":"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"}}]
}