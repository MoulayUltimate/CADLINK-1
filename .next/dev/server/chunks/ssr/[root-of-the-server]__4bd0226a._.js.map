{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/contexts/cart-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from \"react\"\n\nexport type CartItem = {\n    id: string\n    name: string\n    price: number\n    image: string\n    quantity: number\n}\n\ntype CartContextType = {\n    items: CartItem[]\n    addItem: (item: CartItem) => void\n    removeItem: (id: string) => void\n    updateQuantity: (id: string, quantity: number) => void\n    clearCart: () => void\n    isOpen: boolean\n    setIsOpen: (isOpen: boolean) => void\n    subtotal: number\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined)\n\nexport function CartProvider({ children }: { children: ReactNode }) {\n    const [items, setItems] = useState<CartItem[]>([])\n    const [isOpen, setIsOpen] = useState(false)\n    const [isMounted, setIsMounted] = useState(false)\n\n    useEffect(() => {\n        setIsMounted(true)\n        const savedCart = localStorage.getItem(\"cart\")\n        if (savedCart) {\n            try {\n                setItems(JSON.parse(savedCart))\n            } catch (e) {\n                console.error(\"Failed to parse cart\", e)\n            }\n        }\n    }, [])\n\n    useEffect(() => {\n        if (isMounted) {\n            localStorage.setItem(\"cart\", JSON.stringify(items))\n        }\n    }, [items, isMounted])\n\n    const addItem = (newItem: CartItem) => {\n        setItems((prev) => {\n            const existing = prev.find((item) => item.id === newItem.id)\n            if (existing) {\n                return prev.map((item) =>\n                    item.id === newItem.id ? { ...item, quantity: item.quantity + newItem.quantity } : item,\n                )\n            }\n            return [...prev, newItem]\n        })\n        setIsOpen(true)\n    }\n\n    const removeItem = (id: string) => {\n        setItems((prev) => prev.filter((item) => item.id !== id))\n    }\n\n    const updateQuantity = (id: string, quantity: number) => {\n        if (quantity < 1) return\n        setItems((prev) => prev.map((item) => (item.id === id ? { ...item, quantity } : item)))\n    }\n\n    const clearCart = () => {\n        setItems([])\n    }\n\n    const subtotal = items.reduce((total, item) => total + item.price * item.quantity, 0)\n\n    return (\n        <CartContext.Provider\n            value={{\n                items,\n                addItem,\n                removeItem,\n                updateQuantity,\n                clearCart,\n                isOpen,\n                setIsOpen,\n                subtotal,\n            }}\n        >\n            {children}\n        </CartContext.Provider>\n    )\n}\n\nexport function useCart() {\n    const context = useContext(CartContext)\n    if (context === undefined) {\n        throw new Error(\"useCart must be used within a CartProvider\")\n    }\n    return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAuBA,MAAM,4BAAc,IAAA,qVAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAC9D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gVAAQ,EAAa,EAAE;IACjD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gVAAQ,EAAC;IACrC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gVAAQ,EAAC;IAE3C,IAAA,iVAAS,EAAC;QACN,aAAa;QACb,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,WAAW;YACX,IAAI;gBACA,SAAS,KAAK,KAAK,CAAC;YACxB,EAAE,OAAO,GAAG;gBACR,QAAQ,KAAK,CAAC,wBAAwB;YAC1C;QACJ;IACJ,GAAG,EAAE;IAEL,IAAA,iVAAS,EAAC;QACN,IAAI,WAAW;YACX,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAChD;IACJ,GAAG;QAAC;QAAO;KAAU;IAErB,MAAM,UAAU,CAAC;QACb,SAAS,CAAC;YACN,MAAM,WAAW,KAAK,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,QAAQ,EAAE;YAC3D,IAAI,UAAU;gBACV,OAAO,KAAK,GAAG,CAAC,CAAC,OACb,KAAK,EAAE,KAAK,QAAQ,EAAE,GAAG;wBAAE,GAAG,IAAI;wBAAE,UAAU,KAAK,QAAQ,GAAG,QAAQ,QAAQ;oBAAC,IAAI;YAE3F;YACA,OAAO;mBAAI;gBAAM;aAAQ;QAC7B;QACA,UAAU;IACd;IAEA,MAAM,aAAa,CAAC;QAChB,SAAS,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;IACzD;IAEA,MAAM,iBAAiB,CAAC,IAAY;QAChC,IAAI,WAAW,GAAG;QAClB,SAAS,CAAC,OAAS,KAAK,GAAG,CAAC,CAAC,OAAU,KAAK,EAAE,KAAK,KAAK;oBAAE,GAAG,IAAI;oBAAE;gBAAS,IAAI;IACpF;IAEA,MAAM,YAAY;QACd,SAAS,EAAE;IACf;IAEA,MAAM,WAAW,MAAM,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAE;IAEnF,qBACI,6WAAC,YAAY,QAAQ;QACjB,OAAO;YACH;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACJ;kBAEC;;;;;;AAGb;AAEO,SAAS;IACZ,MAAM,UAAU,IAAA,kVAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/app/actions/create-checkout.ts"],"sourcesContent":["\"use server\"\n\nexport async function createCheckoutSession(productId: string) {\n  const DODO_API_KEY = \"P0c86c1_BpTz3iBB.SJzEo1lpujXhg5IID2MmyhMUws4FYqMvEwgg4wLAfEoA7FNn\"\n\n  try {\n    const response = await fetch(\"https://api.dodopayments.com/checkout-sessions\", {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${DODO_API_KEY}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        product_cart: [{ product_id: productId, quantity: 1 }],\n        return_url: \"https://yoursite.com/success\",\n      }),\n    })\n\n    const responseText = await response.text()\n\n    if (!response.ok) {\n      console.error(\"[v0] API Error Response:\", responseText)\n      throw new Error(`API Error: ${responseText}`)\n    }\n\n    const data = JSON.parse(responseText)\n\n    return { success: true, checkoutUrl: data.checkout_url }\n  } catch (error) {\n    console.error(\"[v0] Checkout error:\", error)\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : \"Failed to create checkout session\",\n    }\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAEsB,wBAAA,WAAA,GAAA,IAAA,8WAAA,EAAA,8CAAA,mWAAA,EAAA,KAAA,GAAA,yWAAA,EAAA"}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/components/cart-drawer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useCart } from \"@/contexts/cart-context\"\nimport { X, Minus, Plus, ShoppingBag, Trash2, Lock } from \"lucide-react\"\nimport Image from \"next/image\"\nimport { useEffect, useState } from \"react\"\nimport { createCheckoutSession } from \"@/app/actions/create-checkout\"\n\nexport function CartDrawer() {\n    const { items, removeItem, updateQuantity, isOpen, setIsOpen, subtotal } = useCart()\n    const [isLoading, setIsLoading] = useState(false)\n\n    // Prevent body scroll when cart is open\n    useEffect(() => {\n        if (isOpen) {\n            document.body.style.overflow = \"hidden\"\n        } else {\n            document.body.style.overflow = \"unset\"\n        }\n        return () => {\n            document.body.style.overflow = \"unset\"\n        }\n    }, [isOpen])\n\n    const handleCheckout = async () => {\n        setIsLoading(true)\n        try {\n            // We only have one product really, but let's support the flow\n            // For now, we'll just use the first item's ID or a default one if we were supporting multiple real products\n            // But since this is a specific landing page, we know the product ID.\n            const result = await createCheckoutSession()\n            if (result && result.checkoutUrl) {\n                window.location.href = result.checkoutUrl\n            }\n        } catch (error) {\n            console.error(\"Checkout error:\", error)\n        } finally {\n            setIsLoading(false)\n        }\n    }\n\n    if (!isOpen) return null\n\n    return (\n        <div className=\"fixed inset-0 z-[100] flex justify-end\">\n            {/* Backdrop */}\n            <div\n                className=\"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity duration-300\"\n                onClick={() => setIsOpen(false)}\n            />\n\n            {/* Drawer */}\n            <div className=\"relative w-full max-w-md bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-300\">\n                {/* Header */}\n                <div className=\"flex items-center justify-between p-6 border-b border-gray-100\">\n                    <div className=\"flex items-center gap-2\">\n                        <ShoppingBag className=\"w-5 h-5 text-[#0168A0]\" />\n                        <h2 className=\"text-xl font-black text-gray-900\">Your Cart</h2>\n                        <span className=\"bg-[#0168A0]/10 text-[#0168A0] text-xs font-bold px-2 py-1 rounded-full\">\n                            {items.length} items\n                        </span>\n                    </div>\n                    <button\n                        onClick={() => setIsOpen(false)}\n                        className=\"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-500\"\n                    >\n                        <X className=\"w-5 h-5\" />\n                    </button>\n                </div>\n\n                {/* Items */}\n                <div className=\"flex-1 overflow-y-auto p-6\">\n                    {items.length === 0 ? (\n                        <div className=\"h-full flex flex-col items-center justify-center text-center space-y-4\">\n                            <div className=\"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center\">\n                                <ShoppingBag className=\"w-8 h-8 text-gray-300\" />\n                            </div>\n                            <div>\n                                <p className=\"text-lg font-bold text-gray-900\">Your cart is empty</p>\n                                <p className=\"text-gray-500 text-sm\">Looks like you haven't added anything yet.</p>\n                            </div>\n                            <button\n                                onClick={() => setIsOpen(false)}\n                                className=\"text-[#0168A0] font-bold text-sm hover:underline\"\n                            >\n                                Continue Shopping\n                            </button>\n                        </div>\n                    ) : (\n                        <div className=\"space-y-6\">\n                            {items.map((item) => (\n                                <div key={item.id} className=\"flex gap-4\">\n                                    <div className=\"relative w-20 h-20 bg-gray-50 rounded-xl overflow-hidden border border-gray-100 flex-shrink-0\">\n                                        <Image\n                                            src={item.image}\n                                            alt={item.name}\n                                            fill\n                                            className=\"object-contain p-2\"\n                                        />\n                                    </div>\n                                    <div className=\"flex-1 flex flex-col justify-between\">\n                                        <div>\n                                            <h3 className=\"font-bold text-gray-900 line-clamp-2 leading-tight\">{item.name}</h3>\n                                            <p className=\"text-[#0168A0] font-bold mt-1\">${item.price.toFixed(2)}</p>\n                                        </div>\n                                        <div className=\"flex items-center justify-between mt-2\">\n                                            <div className=\"flex items-center border border-gray-200 rounded-lg h-8\">\n                                                <button\n                                                    onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                                                    className=\"w-8 h-full flex items-center justify-center hover:bg-gray-50 text-gray-500\"\n                                                    disabled={item.quantity <= 1}\n                                                >\n                                                    <Minus className=\"w-3 h-3\" />\n                                                </button>\n                                                <span className=\"w-8 text-center text-xs font-bold text-gray-900\">{item.quantity}</span>\n                                                <button\n                                                    onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                                                    className=\"w-8 h-full flex items-center justify-center hover:bg-gray-50 text-gray-500\"\n                                                >\n                                                    <Plus className=\"w-3 h-3\" />\n                                                </button>\n                                            </div>\n                                            <button\n                                                onClick={() => removeItem(item.id)}\n                                                className=\"text-gray-400 hover:text-red-500 transition-colors\"\n                                            >\n                                                <Trash2 className=\"w-4 h-4\" />\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n\n                {/* Footer */}\n                {items.length > 0 && (\n                    <div className=\"p-6 border-t border-gray-100 bg-gray-50/50 space-y-4\">\n                        <div className=\"space-y-2\">\n                            <div className=\"flex items-center justify-between text-sm\">\n                                <span className=\"text-gray-500\">Subtotal</span>\n                                <span className=\"font-bold text-gray-900\">${subtotal.toFixed(2)}</span>\n                            </div>\n                            <div className=\"flex items-center justify-between text-sm\">\n                                <span className=\"text-gray-500\">Shipping</span>\n                                <span className=\"font-bold text-[#4CAF50]\">Free</span>\n                            </div>\n                            <div className=\"flex items-center justify-between text-lg font-black border-t border-gray-200 pt-2 mt-2\">\n                                <span className=\"text-gray-900\">Total</span>\n                                <span className=\"text-[#0168A0]\">${subtotal.toFixed(2)}</span>\n                            </div>\n                        </div>\n\n                        <button\n                            onClick={handleCheckout}\n                            disabled={isLoading}\n                            className=\"w-full bg-[#0168A0] hover:bg-[#015580] text-white font-bold py-4 rounded-xl shadow-lg shadow-[#0168A0]/20 flex items-center justify-center gap-2 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed\"\n                        >\n                            {isLoading ? (\n                                <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                            ) : (\n                                <>\n                                    <Lock className=\"w-4 h-4\" />\n                                    Secure Checkout\n                                </>\n                            )}\n                        </button>\n                        <p className=\"text-center text-xs text-gray-400 flex items-center justify-center gap-1\">\n                            <Lock className=\"w-3 h-3\" />\n                            Guaranteed Safe & Secure Checkout\n                        </p>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}}]
}