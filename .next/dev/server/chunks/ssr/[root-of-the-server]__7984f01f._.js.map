{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/app/actions/create-payment-intent.ts"],"sourcesContent":["\"use server\"\n\nimport Stripe from \"stripe\"\nimport { getSettings } from \"./settings\"\n\n// Initialize Stripe with a placeholder or env variable\n// In a real app, use process.env.STRIPE_SECRET_KEY\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY || \"sk_test_placeholder\", {\n    apiVersion: \"2025-01-27.acacia\", // Use latest API version\n})\n\nexport async function createPaymentIntent(amount: number, currency: string = \"usd\") {\n    try {\n        // In a real app, you might fetch the API key from settings if stored there\n        // const settings = await getSettings()\n        // const stripe = new Stripe(settings.payment.stripeSecretKey, ...)\n\n        const paymentIntent = await stripe.paymentIntents.create({\n            amount: Math.round(amount * 100), // Stripe expects cents\n            currency,\n            automatic_payment_methods: {\n                enabled: true,\n            },\n        })\n\n        return { clientSecret: paymentIntent.client_secret }\n    } catch (error) {\n        console.error(\"Error creating payment intent:\", error)\n        return { error: \"Failed to create payment intent\" }\n    }\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;AAGA,uDAAuD;AACvD,mDAAmD;AACnD,MAAM,SAAS,IAAI,uPAAM,CAAC,QAAQ,GAAG,CAAC,iBAAiB,IAAI,uBAAuB;IAC9E,YAAY;AAChB;AAEO,eAAe,oBAAoB,MAAc,EAAE,WAAmB,KAAK;IAC9E,IAAI;QACA,2EAA2E;QAC3E,uCAAuC;QACvC,mEAAmE;QAEnE,MAAM,gBAAgB,MAAM,OAAO,cAAc,CAAC,MAAM,CAAC;YACrD,QAAQ,KAAK,KAAK,CAAC,SAAS;YAC5B;YACA,2BAA2B;gBACvB,SAAS;YACb;QACJ;QAEA,OAAO;YAAE,cAAc,cAAc,aAAa;QAAC;IACvD,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO;YAAE,OAAO;QAAkC;IACtD;AACJ;;;IAnBsB;;AAAA,8WAAA"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Documents/antigravity/CADLINK/.next-internal/server/app/checkout/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {createPaymentIntent as '606d891a2a85baa543e8b08c28f75773c6bbf820e0'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}